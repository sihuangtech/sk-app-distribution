# 彩旗软件分发平台 版本更新日志

## 🎉 版本概述

彩旗软件分发平台 v1.0.0 是一个功能完整、生产就绪的软件分发解决方案，为开发者和企业提供专业的应用包上传、管理、分发和下载服务。

## ✨ 主要新功能与改进

- **🔐 安全认证增强**：基于 JWT 的安全登录和会话管理。
- **📁 全面应用管理**：支持创建和管理多个应用项目，信息清晰。
- **⬆️ 灵活文件上传**：支持多种文件格式，可配置大小和数量限制，自动保留原始文件名。
- **📋 高级文件管理**：新增多维度筛选、搜索功能，方便查找和管理文件。
- **🔗 智能下载系统**：生成简洁下载链接，支持下载速度控制，适配不同环境（开发/生产）。
- **📊 **新增**下载统计**：实时记录文件下载次数和详细历史记录，提供下载排行榜。
- **⚙️ 动态配置管理**：通过 YAML 文件统一管理，支持 Web 界面在线修改，实时生效。
- **🎨 现代化用户界面**：响应式设计，提供直观、友好的操作体验。

## 🚀 版本亮点

- **🎯 功能完善**：新增下载统计，优化文件命名，完善环境配置。
- **🛡️ 安全增强**：提高配置安全性，增强文件上传校验。
- **🔧 技术优化**：升级核心依赖，提升系统稳定性和性能。

## 🎯 适用场景

适合软件开发团队、企业、独立开发者等进行内部或外部的应用分发。

---

## 📋 版本更新记录

### v1.1.0 (2025-01-08)

#### 🆕 新增功能
- **📊 下载统计界面增强**：新增完整的下载统计管理界面，包含统计概览、文件排行和历史记录三大模块
- **🔍 智能历史记录筛选**：支持按文件类型（应用-操作系统-架构）、时间范围进行多维度筛选查询
- **🌍 IP地理位置显示**：集成IP地理信息查询功能，支持显示下载者的国家、地区、城市和ISP信息
- **⚙️ 地理信息配置管理**：在设置页面新增地理信息配置，支持多个API提供商（IP-API、IPStack、IPGeolocation）
- **💾 智能缓存机制**：地理信息查询结果自动缓存，可配置缓存时间（1-168小时），减少API调用
- **📅 便捷时间筛选**：新增"今日"、"最近一周"、"最近一个月"快捷时间筛选按钮

#### 🔧 功能优化
- **📈 统计数据展示**：优化统计概览卡片布局，显示总文件数、总下载次数、今日/本周/本月下载量
- **🏆 热门文件排行**：新增Top 5热门文件展示，包含下载次数和最后下载时间
- **📋 分页功能完善**：历史记录支持分页显示，默认每页20条记录，提升大数据量下的加载性能
- **🎨 界面体验提升**：优化表格样式，增加悬停效果，提升用户交互体验

#### 🐛 问题修复
- **🗑️ 文件删除功能**：修复了已上传文件无法正常删除的问题，确保文件管理功能完整性
- **🌐 IP地址获取**：修复了代理环境下无法正确获取公网IP地址的问题，支持X-Forwarded-For等代理头
- **📊 统计数据准确性**：优化IP地址解析逻辑，确保下载统计中显示真实的客户端IP地址
- **⚡ 异步处理优化**：地理信息查询改为异步处理，避免阻塞下载记录功能

#### 🛠️ 技术改进
- **🔌 API集成**：集成多个地理信息API服务，提供备选方案和容错机制
- **📝 配置验证**：增强配置文件验证，确保地理信息相关配置的正确性
- **🚀 性能优化**：批量查询支持，限制并发请求数量，避免API限制
- **📚 文档完善**：新增地理信息功能详细说明文档，包含配置指南和故障排除

#### 🔒 隐私与安全
- **🛡️ 隐私保护**：地理信息功能可选启用，用户可随时在设置中禁用
- **🔐 数据安全**：IP地址仅用于地理信息查询，不存储敏感个人信息
- **💾 本地缓存**：地理信息在本地缓存，减少对第三方服务的依赖

---

**彩旗软件分发平台 v1.1.0** - 更智能的下载统计，更全面的数据分析！ 